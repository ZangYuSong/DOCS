# Linux 常用命令

- `cd` : 切换工作目录
- `clear` : 清空终端的内容

* `ls` : 显示除 `.` 开头的档案及目录
* `ls -a` : 显示所有档案及目录
* `ls -A` : 显示除 `.` 和 `..` 的档案及目录
* `[ls -l] | [ll]` : 以长格式显示目录下的内容列表。输出的信息从左到右依次包括文件名，文件类型、权限模式、硬连接数、所有者、组、文件大小和文件的最后修改时间等

- `mkdir` : 创建目录
- `mkdir -p` : 若所要建立目录的上层目录目前尚未建立，则会一并建立上层目录
- `mkdir -m` : 创建目录并添加对应权限。`mkdir -p -m 700 /usr/meng/test`
- `rmdir` : 删除空目录
- `rmdir -p` : 删除指定目录后，若该目录的上层目录已变成空目录，则将其一并删除

* `touch` : 1、创建空文件 2、更新已存在文件的时间标签（默认为系统当前时间）
* `touch -a` : 只更改存取时间
* `touch -t <Date>` : 指定时间
* `touch -m` : 只更改变动时间
* `touch -r <参考目录或文件>` : 把指定文件或目录的日期时间，统统设成和参考文件或目录的日期时间相同

- `rm` : 删除指定一个或多个文件和目录
- `rm -r` : 递归处理，将指定目录下的所有文件与子目录一并处理
- `rm -f` : 强制删除
- `rm -i` : 删除已有文件或目录之前先询问用户
- `rm -d` : 直接把欲删除的目录的硬连接数据删除成 0，删除该目录

* `mv <source> <target>` : 用来对文件或目录重新命名，或者将文件从一个目录移到另一个目录中
* `mv -d` : 当文件存在时，覆盖前，为其创建一个备份
* `mv -f` : 若目标文件或目录与现有的文件或目录重复，则直接覆盖现有的文件或目录
* `mv -u` : 当源文件比目标文件新或者目标文件不存在时，才执行移动操作
* `mv -i` : 交互式操作，覆盖前先行询问用户，如果源文件与目标文件或目标目录中的文件同名，则询问用户是否覆盖目标文件
* `mv -S <后缀>` : 为备份文件指定后缀，而不使用默认的后缀

- `cp` : 将一个或多个源文件或者目录复制到指定的目的文件或目录
- `cp -f` : 强行复制文件或目录，不论目标文件或目录是否已存在
- `cp -i` : 覆盖既有文件之前先询问用户
- `cp -l` : 对源文件建立硬连接，而非复制文件
- `cp -p` : 保留源文件或目录的属性
- `cp -R/r` : 递归处理，将指定目录下的所有文件与子目录一并处理
- `cp -s` : 对源文件建立符号连接，而非复制文件
- `cp -u` : 使用这项参数后只会在源文件的更改时间较目标文件更新时或是名称相互对应的目标文件并不存在时，才复制文件

* `scp` : 在 Linux 下进行远程拷贝文件的命令，和它类似的命令有 cp，不过 cp 只是在本机进行拷贝不能跨服务器，而且 scp 传输是加密的。 `scp root@10.10.10.10:/opt/soft/nginx-0.5.38.tar.gz /opt/soft/`
* `scp -C` : 使用压缩
* `scp -p` : 保留文件的最后修改时间，最后访问时间和权限模式
* `scp -r` : 以递归方式复制
* `scp -q` : 不显示复制进度
* `scp -P` : 指定远程主机的端口号
* `scp -F` : 指定 ssh 配置文件
* `scp -B` : 以批处理模式运行
* `scp -1` : 使用 ssh 协议版本 1
* `scp -2` : 使用 ssh 协议版本 2
* `scp -4` : 使用 ipv4
* `scp -6` : 使用 ipv6

- `ln` : 为文件创件连接，连接类型分为硬连接和符号连接两种，默认的连接类型是硬连接
- `软连接` :
  - 1.软链接，以路径的形式存在。类似于 Windows 操作系统中的快捷方式
  - 2.软链接可以 跨文件系统 ，硬链接不可以
  - 3.软链接可以对一个不存在的文件名进行链接
  - 4.软链接可以对目录进行链接
- `硬链接` :
  - 1.硬链接，以文件副本的形式存在。但不占用实际空间。
  - 2.不允许给目录创建硬链接
  - 3.硬链接只有在同一个文件系统中才能创建
- `ln -s` : 对源文件建立符号连接，而非硬连接
- `ln -d` : 对源文件建立硬连接
- `ln -i` : 覆盖既有文件之前先询问用户
- `ln -f` : 强行建立文件或目录的连接，不论文件或目录是否存在
- `ln -b` : 删除，覆盖目标文件之前的备份

* `cat` : 连接文件并打印到标准输出设备上
* `cat -n` : 从 1 开始对所有输出的行数编号
* `cat -b` : 从 1 开始对所有输出的行数编号，不过对于空白行不编号
* `cat -s` : 当遇到有连续两行以上的空白行，就代换为一行的空白行

- `tail` : 用于输入文件中的尾部内容，默认在屏幕上显示指定文件的末尾 10 行
- `tail -f` : 显示文件最新追加的内容
- `tail -n` : 输出文件的尾部 N（N 位数字）行内容
- `tail -s <秒数>` : 与 `-f` 选项连用，指定监视文件变化时间隔的秒数
- `tail --pid=<进程号>` : 与 `-f` 选项连用，当指定的进程号的进程终止后，自动退出 tail 命令

* `more` : 是一个基于 vi 编辑器文本过滤器，它以全屏幕的方式按页显示文本文件的内容，支持 vi 中的关键字定位操作。
  - `Enter` : 显示文本的下一行内容
  - `Space` : 显示文本的下一屏内容
  - `K` : 显示帮助屏，该屏上有相关的帮助信息
  - `B` : 显示上一屏内容
  - `Q` : 退出 more 命令
  - `/` : 接着输入一个模式，可以在文本中寻找下一个相匹配的模式
* `-<number>` : 指定每屏显示的行数
* `-d` : 显示 `[press space to continue,'q' to quit.]` 和 `[Press 'h' for instructions]`
* `-c` : 不进行滚屏操作。每次刷新这个屏幕
* `-s` : 将多个空行压缩成一行显示
* `-u` : 禁止下划线
* `+<number>` : 从指定数字的行开始显示

- `top` : 可以实时动态地查看系统的整体运行情况，是一个综合了多方信息监测系统性能和运行信息的实用工具
- `top -b` : 以批处理模式操作
- `top -c` : 显示完整的治命令
- `top -d` : 屏幕刷新间隔时间
- `top -I` : 忽略失效过程
- `top -s` : 保密模式
- `top -S` : 累积模式
- `top -i<时间>` : 设置间隔时间
- `top -u<用户名>` : 指定用户名
- `top -p<进程号>` : 指定进程
- `top -n<次数>` : 循环显示的次数
- `交互` : 在 top 命令执行过程中可以使用的一些交互命令。这些命令都是单字母的，如果在命令行中使用了-s 选项， 其中一些命令可能会被屏蔽
  - `h` : 显示帮助画面，给出一些简短的命令总结说明
  - `k` : 终止一个进程
  - `i` : 忽略闲置和僵死进程，这是一个开关式命令
  - `q` : 退出程序
  - `r` : 重新安排一个进程的优先级别
  - `S` : 切换到累计模式
  - `s` : 改变两次刷新之间的延迟时间（单位为 s），如果有小数，就换算成 ms。输入 0 值则系统将不断刷新，默认值是 5s
  - `f/F` : 从当前显示中添加或者删除项目
  - `o/O` : 改变显示项目的顺序
  - `l` : 切换显示平均负载和启动时间信息
  - `m` : 切换显示内存信息
  - `t` : 切换显示进程和 CPU 状态信息
  - `c` : 切换显示命令名称和完整命令行
  - `M` : 根据驻留内存大小进行排序
  - `P` : 根据 CPU 使用百分比大小进行排序
  - `T` : 根据时间/累计时间进行排序
  - `w` : 将当前设置写入 `~/.toprc` 文件中

* `shutdown` : 系统关机命令 `shutdown +5 "System will shutdown after 5 minutes"` : 指定 5 分钟后关机，同时送出警告信息给登入用户
* `shutdown -r | reboot | init 6` : 关机之后重新启动
* `shutdown -k` : 只是送出信息给所有用户，但不会实际关机
* `shutdown -h | init 0` : 将系统关机 `shutdown -h now`
* `shutdown -c` : 当执行 `shutdown -h 11:50` 指令时，只要按 `+` 键就可以中断关机的指令
* `shutdown -n` : 不调用 `init` 程序进行关机，而由 `shutdown` 自己进行
* `shutdown -t <秒数>` : 送出警告信息和删除信息之间要延迟多少秒
* `logout | exit | Ctrl + d` : 注销

- `init` : 进程初始化工具
- `init -b` : 不执行相关脚本而直接进入单用户模式
- `init -s` : 切换到单用户模式
- `init 0` : 停机（千万不能把 initdefault 设置为 0）
- `init 1` : 单用户模式
- `init 2` : 多用户，没有 NFS(和级别 3 相似，会停止部分服务)
- `init 3` : 完全多用户模式
- `init 4` : 没有用到
- `init 5` : x11(Xwindow)
- `init 6` : 重新启动（千万不要把 initdefault 设置为 6）

* `ps` : 报告当前系统的进程状态
* `ps a` : 显示现行终端机下的所有程序，包括其他用户的程序
* `ps -a` : 示所有终端机下执行的程序，除了阶段作业领导者之外
* `ps -A` : 显示所有程序
* `ps -C <指令名称>` : 指定执行指令的名称，并列出该指令的程序的状况
* `ps -d` : 显示所有程序，但不包括阶段作业领导者的程序
* `ps -e` : 此选项的效果和指定 `A` 选项相同
* `ps e` : 列出程序时，显示每个程序所使用的环境变量
* `ps -f` : 显示 UID PPIP C 与 STIME 栏位
* `ps F` : 用 ASCII 字符显示树状结构，表达程序间的相互关系
* `常用组合命令 ps -ef | grep httpd` : 检查 httpd 进程是否存在
* [更多参考](http://man.linuxde.net/ps)

- `grep` : 一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。 `grep "match_pattern" file_1 file_2 file_3 ...`
- `grep -E` : 使用正则表达式
- `grep -o` : 只输出文件中匹配到的部分
- `grep -c` : 计算符合范本样式的列数
- `grep -n` : 在显示符合范本样式的那一列之前，标示出该列的编号
- `grep -l` : 列出文件内容符合指定的范本样式的文件名称
- `grep -L` : 列出文件内容不符合指定的范本样式的文件名称
- `grep -r/R` : 递归搜索
- `grep -i` : 忽略大写和小写
- `grep -f` : 多行显示
- [更多参考](http://man.linuxde.net/grep)

* `wc` : 计算数字
* `wc -c` : 只显示 Bytes 数
* `wc -l` : 只显示行数
* `wc -w` : 只显示字数

- `>` : 将输出重定向到目标文件中，如果文件不存在，就创建文件；如果文件存在，就将内容会覆盖。只能将正常信息重定向
- `>>` : 将输出内容追加到目标文件中。如果文件不存在，就创建文件
- `<` : 将输入重定向到目标文件，文件必须存在
- `<< tag` : 将开始标记 tag 和结束标记 tag 之间的内容作为输入
- `m>&n` : 将输出文件 m 和 n 合并
- `m<&n` : 将输入文件 m 和 n 合并
- `2>&1` : 指将标准输出、标准错误指定为同一输出路径
  - `0` : 表示 stdin 标准输入
  - `1` : 表示 stdout 标准输出
  - `2` : 表示 stderr 标准错误

* `A | B` : 将 A 命令执行的结果作为输入传给 B 命令
* `A || B` : A （返回 0 真，返回 1 假） 命令执行失败之后执行 B 命令
* `A &` : 将前 A 命令后台执行
* `A && B` : A （返回 0 真，返回 1 假） 命令执行成功之后执行 B 命令

- `sort` : 将文件进行排序，并将排序结果标准输出。
- `sort -n` : 依照数值的大小排序
- `sort -o file` : 将排序后的结果存入指定的文件
- `sort -r` : 以相反的顺序来排序
- `sort -k 2` : 使用第二列进行排序
- `sort -t <分隔字符>` : 指定排序时所用的栏位分隔字符
- [更多参考](http://man.linuxde.net/sort)

* `uniq` : 略文件中的重复行
* `uniq -C` : 在每列旁边显示该行重复出现的次数
* `uniq -d` : 仅显示重复出现的行列
* `uniq -u` : 仅显示出一次的行列
* [更多参考](http://man.linuxde.net/uniq)

- `echo` : shell 中打印 shell 变量的值，或者直接输出指定的字符串
- `printf` : 格式化并输出结果到标准输出
- `-` : 表示左对齐
- `%s` : 字符串
- `%f` : 浮点数
- `%d` : 十进制
- `printf "%-5s %-10s %-4.2f\n" 02 Jack 89.2345`
- [更多参考](http://man.linuxde.net/printf)

* `awk` : 强大的文本分析工具。
* `awk [-F field-separator] 'commands' input-file(s)` : commands 是真正 awk 命令，[-F 域分隔符]是可选的。 input-file(s) 是待处理的文件。在 awk 中，文件的每一行中，由域分隔符分开的每一项称为一个域。通常，在不指名-F 域分隔符的情况下，默认的域分隔符是空格。`awk '{print $1,$4}' log.txt` : 每行按空格或 TAB 分割，输出文本中的 1、4 项
* `awk -F fs` : fs 指定输入分隔符，fs 可以是字符串或正则表达式。`awk -F, '{print $1,$2}' log.txt` : 使用 , 分割。`awk -F '[ ,]' '{print $1,$2,$5}' log.txt` : 先使用空字符串分割，再使用 , 分割
* [更多参考](http://man.linuxde.net/awk)
